"use strict";(()=>{var e={};e.id=386,e.ids=[386],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},26645:(e,s,t)=>{t.r(s),t.d(s,{headerHooks:()=>m,originalPathname:()=>h,patchFetch:()=>y,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>b,staticGenerationBailout:()=>p});var n={};t.r(n),t.d(n,{POST:()=>c});var r=t(95419),o=t(69108),a=t(99678),i=t(78070),u=t(70922);async function c(e){try{let{name:s,email:t,businessName:n,industry:r,company:o,subject:a,message:c,phone:l,businessDescription:d,country:b,otherCountry:g,countryCode:m,businessSize:p,annualRevenue:h,ebitda:y,currency:f,howHeard:$,otherHowHeard:w,scheduleMeeting:A}=await e.json();if(!s||!t||!c)return i.Z.json({error:"Missing required fields"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return i.Z.json({error:"Invalid email format"},{status:400});let E=e=>"string"!=typeof e?"":e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<!--.*?-->/g,"").trim(),N={name:E(s).substring(0,100),email:E(t).toLowerCase().substring(0,255),businessName:n?E(n).substring(0,100):null,industry:r?E(r).substring(0,50):null,company:o?E(o).substring(0,100):null,subject:a?E(a).substring(0,255):"Contact Form Submission",message:E(c).substring(0,2e3),phone:l?E(l).substring(0,20):null,businessDescription:d?E(d).substring(0,1e3):null,country:b?E(b).substring(0,50):null,otherCountry:g?E(g).substring(0,50):null,countryCode:m?E(m).substring(0,10):null,businessSize:p?E(p).substring(0,50):null,annualRevenue:h?E(h).substring(0,50):null,ebitda:y?E(y).substring(0,50):null,currency:f?E(f).substring(0,10):null,howHeard:$?E($).substring(0,100):null,otherHowHeard:w?E(w).substring(0,255):null,scheduleMeeting:A?E(A).substring(0,10):null},T=await u.i6`
      INSERT INTO contacts (
        name, email, business_name, industry, company, subject, message, 
        phone, business_description, country, other_country, country_code,
        business_size, annual_revenue, ebitda, currency, how_heard, 
        other_how_heard, schedule_meeting
      ) VALUES (
        ${N.name}, ${N.email}, ${N.businessName}, 
        ${N.industry}, ${N.company}, ${N.subject}, 
        ${N.message}, ${N.phone}, ${N.businessDescription},
        ${N.country}, ${N.otherCountry}, ${N.countryCode},
        ${N.businessSize}, ${N.annualRevenue}, ${N.ebitda},
        ${N.currency}, ${N.howHeard}, ${N.otherHowHeard},
        ${N.scheduleMeeting}
      )
      RETURNING id
    `;console.log("✅ Contact saved to Neon database");try{await u.i6`
        INSERT INTO contact_stats (date, count) 
        VALUES (CURRENT_DATE, 1)
        ON CONFLICT (date) 
        DO UPDATE SET count = contact_stats.count + 1
      `}catch(e){console.error("Failed to update contact stats:",e)}return i.Z.json({success:!0,message:"Thank you for your message! We will get back to you soon.",id:T[0].id})}catch(e){if(console.error("Contact form error:",e),e.message&&e.message.includes("duplicate key"))return i.Z.json({success:!1,error:"This email has already been submitted. Please use a different email or contact us directly."},{status:409});return i.Z.json({success:!1,error:"Failed to send message. Please try again later."},{status:500})}}let l=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:"app/api/contact/route"},resolvedPagePath:"C:\\Users\\LENOVO\\Desktop\\cursor\\app\\api\\contact\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:b,serverHooks:g,headerHooks:m,staticGenerationBailout:p}=l,h="/api/contact/route";function y(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:b})}},70922:(e,s,t)=>{t.d(s,{M7:()=>r,i6:()=>n});let n=(0,t(89539).qn)((()=>{let e=process.env.DATABASE_URL;if(!e)throw Error("DATABASE_URL environment variable is not set");if(!e.startsWith("postgresql://"))throw Error("Invalid DATABASE_URL format. Must start with postgresql://");return(e.includes("sslmode=disable")||e.includes("sslmode=allow"))&&console.warn("⚠️  WARNING: Database connection is not using strict SSL mode. Consider using sslmode=require"),e})());async function r(){try{return await n`SELECT NOW()`,console.log("✅ Neon database connected successfully"),!0}catch(e){return console.error("❌ Neon connection failed: Connection could not be established"),!1}}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[638,206,539],()=>t(26645));module.exports=n})();